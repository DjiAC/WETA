{% extends '_base.html' %}

{% block content %}
    {% include '_title.html' %}

    <section class="section">
    <div class="container">
            <div class="columns">
            <div class="column">
                {% include '_searchbar.html' %}
            </div>
            <div class="column">
                <h4 class="title is-4">Actions</h4>
                <p class="has-text-danger">Refreshing the list of diseases from source takes more than 10 seconds.
                    <a href="{{ url_for('refresh_diseases') }}" class="button is-danger is-small">Update diseases</a>
                </p>
            </div>
        </section>

    <section class="section">
        <div class="container">
            {% if data.items | count > 0 %}
                {% for disease in data.items %}
                    <ul class="tile is-ancestor">
                        <li class="tile is-parent compact">
                            <a href="{{ disease.link }}" class="tile is-child box">
                                {{ disease.name }}&nbsp;
                                <small class="is-pulled-right has-text-grey">Added {{ disease.added.strftime('on %B, %d %Y at %H:%M') }}</small></a>
                        </li>
                    </ul>
                {% endfor %}
                {% include '_pagination.html' %}
            {% else %}
                <p>No diseases registered yet.</p>
            {% endif %}
        </div>
        </section>

{% endblock %}